cmake_minimum_required( VERSION 2.8.7 )

set(XMLParser_INCLUDE_DIRS "${CMAKE_BINARY_DIR}/XMLParser-src/include")

include_directories(${XMLParser_INCLUDE_DIRS})

configure_file(CMakeLists-XMLParser.txt.in ${CMAKE_BINARY_DIR}/XMLParser-download/CMakeLists.txt)
execute_process(COMMAND ${CMAKE_COMMAND} -G "${CMAKE_GENERATOR}" .
  WORKING_DIRECTORY ${CMAKE_BINARY_DIR}/XMLParser-download)
execute_process(COMMAND ${CMAKE_COMMAND} --build .
  WORKING_DIRECTORY ${CMAKE_BINARY_DIR}/XMLParser-download)
 
add_subdirectory(${CMAKE_BINARY_DIR}/XMLParser-src "${CMAKE_CURRENT_BINARY_DIR}/XMLParser-src")
set(XMLParser_LIB "${CMAKE_SHARED_LIBRARY_PREFIX}XMLParser${CMAKE_SHARED_LIBRARY_SUFFIX}")
